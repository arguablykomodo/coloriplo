:root {
	color-scheme: light dark;
}

* {
	box-sizing: border-box;
}

body {
	margin: 0;
	display: grid;
	place-items: center;
}

#grid {
	position: relative;
	width: 100dvw;
	height: 100dvh;
	background-color: color-mix(in oklab,
		color-mix(in oklab, var(--color-a) 50%, var(--color-b) 50%) 50%,
		color-mix(in oklab, var(--color-c) 50%, var(--color-d) 50%) 50%
	);
}

.swatch {
	position: absolute;
	width: calc(100dvw / var(--width));
	height: calc(100dvh / var(--height));
	transition: left 0.2s, top 0.2s;
	left: calc(100dvw / var(--width) * var(--x));
	top: calc(100dvh / var(--height) * var(--y));
	--mix-x: calc(var(--color-x) / (var(--width) - 1) * 100%);
	--mix-y: calc(var(--color-y) / (var(--height) - 1) * 100%);
	--top-mix: color-mix(in oklab, var(--color-a), var(--color-b) var(--mix-x));
	--bottom-mix: color-mix(in oklab, var(--color-c), var(--color-d) var(--mix-x));
	background-color: color-mix(in oklab, var(--top-mix), var(--bottom-mix) var(--mix-y));
	display: flex;
	place-items: center;
	justify-content: center;

	&.selected {
		border: 2px solid black;
	}

	&.moving {
		z-index: 100;
	}

	&.pinned::after {
		content: "ðŸ”’";
	}
}

#controls {
	position: absolute;
	place-self: start center;
	z-index: 200;

	summary {
		background: Canvas;
		padding: 1ch;
		cursor: pointer;
		text-align: center;
	}

	form {
		width: max-content;
		display: grid;
		gap: 1ch;
		padding: 1ch;
		grid-template-columns: max-content 1fr;
		background-color: Canvas;
		backdrop-filter: blur(10px);

		label {
			text-align: right;
		}

		fieldset {
			display: grid;
			gap: 1ch;
			grid-template-columns: 1fr 1fr;

			input[type=color] {
				width: 100%;
			}
		}

		h2 {
			text-align: center;
			margin: 0.5rem 0;
		}

		input[type=submit],
		button,
		h2,
		fieldset {
			grid-column: 1 / -1;
		}
	}
}
